<!doctype html>
<html lang="en">
    <head>
        <title>Codo</title>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
        <!-- User CSS -->
        <link rel="stylesheet" type="text/css" href="/views/style/home.css">
        <!-- Icon -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    </head>
    <body>
        <!-- Main Container -->
        <div class="container-fluid h-100" id="main_container">

            <!-- A row which cross the whole viewport-->
            <div class="row h-100">
                <div class="col-sm-2 bg-white h-90">
                    <div class="d-flex flex-column justify-content-between align-items-center h-100" id="room-list-container">
                        <!-- Room List-->
                        <div class="list-group w-100" id="room-list" role="tablist">
                        </div>
                        <!-- Buttons-->
                        <div class="d-flex flex-row justify-content-around align-items-center bg-light rounded w-100">
                            <button type="button" class="btn btn-light" data-toggle="modal" data-target="#create-room-modal">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                            <button type="button" class="btn btn-light" data-toggle="modal" data-target="#join-room-modal">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </button>
                            <button type="button" class="btn btn-light" data-toggle="modal" data-target="#delete-room-modal">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Right side-->
                <div id="right_side" class="col-sm-10 bg-dark d-flex flex-column align-items-center h-100">
                    <div class="row w-100" style="height: 100%">
                        <!-- Outer Card-->
                        <div id="room_card" class="card text-center w-100 h-100">
                            <!-- Outer Card Header-->
                            <div class="card-header" style="height: 8%">
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="todo-tab" data-toggle="tab" href="#todo" role="tab" aria-controls="todo" aria-selected="true">Todo</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="ongoing-tab" data-toggle="tab" href="#ongoing" role="tab" aria-controls="ongoing" aria-selected="false">Ongoing</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="done-tab" data-toggle="tab" href="#done" role="tab" aria-controls="done" aria-selected="false">Done</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="members-tab" data-toggle="tab" href="#members" role="tab" aria-controls="members" aria-selected="false">Members</a>
                                    </li>
                                    <li class="nav-item">
                                        <a id="ajax_spinner" class="nav-link text-danger" role="tab" aria-selected="false"><i class="fa fa-refresh fa-spin fa-1x fa-fw"></i></a>
                                    </li>

                                    <li class="nav-item ml-auto">
                                        <button id="user-logout-btn" class="btn btn-danger btn-sm ml-auto" type="user-logout-btn" onclick="logout(event)">Logout</button>
                                    </li>

                                </ul>

                            </div>
                            <!-- Outer Card Body-->
                            <div id="outer-card-body" class="card-body" style="height: 86%">
                                <!-- Todo,Ongoing,Done,Members的Tab -->
                                <div id="tab-content-container" class="tab-content" id="myTabContent" style="height: 100%">
                                    <!--********************************* Todo Tab *********************************-->
                                    <div class="tab-pane fade show active" id="todo" role="tabpanel" aria-labelledby="todo-tab" style="height: 100%;">
                                        <div class="card text-white bg-light mb-3 w-100" aria-hidden="true" style="height: 100%;">
                                            <div class="card-body" style="height:100%; overflow: auto;">
                                                <ul id="todo-list" class="list-group text-dark">
                                                </ul>
                                            </div>
                                            <button id="add-todo-btn" type="button" class="btn btn-primary w-100 font-weight-bold mt-2 w-100" data-toggle="modal" data-target="#add-todo-modal">ADD TODO
                                                <i class="fa fa-plus" aria-hidden="true"></i>
                                            </button>
                                        </div> 
                                    </div>
                                    <!--********************************* Ongoing Tab ******************************-->
                                    <div class="tab-pane fade" id="ongoing" role="tabpanel" aria-labelledby="todo-tab" style="height: 100%;">
                                        <div class="card text-white bg-light mb-3 w-100" aria-hidden="true" style="height: 100%;">
                                            <div class="card-body" style="height:100%; overflow: auto;">
                                                <ul id="ongoing-list" class="list-group text-dark">
                                                </ul>
                                            </div>
                                            <button type="button" class="btn btn-primary w-100 font-weight-bold mt-2 w-100 disabled invisible"> 
                                                <i class="fa fa-plus" aria-hidden="true"></i>
                                            </button>
                                        </div> 
                                    </div>
                                    <!--********************************* Done Tab *********************************-->
                                    <div class="tab-pane fade" id="done" role="tabpanel" aria-labelledby="todo-tab" style="height: 100%;">
                                        <div class="card text-white bg-light mb-3 w-100" aria-hidden="true" style="height: 100%;">
                                            <div class="card-body" style="height:100%; overflow: auto;">
                                                <ul id="done-list" class="list-group text-dark">
                                                </ul>
                                            </div>
                                            <button type="button" class="btn btn-primary w-100 font-weight-bold mt-2 w-100 disabled invisible"> 
                                                <i class="fa fa-plus" aria-hidden="true"></i>
                                            </button>
                                        </div> 
                                    </div>
                                    <!--********************************* Members Tab ******************************-->
                                    <div class="tab-pane fade" id="members" role="tabpanel" aria-labelledby="todo-tab" style="height: 100%;">
                                        <div class="card text-white bg-light mb-3 w-100" aria-hidden="true" style="height: 100%;">
                                            <div class="card-body" style="height:100%; overflow: auto;">
                                                <ul id="member-list" class="list-group text-dark">
                                                </ul>
                                            </div>
                                            <button id="add-member-btn" type="button" class="btn btn-primary w-100 font-weight-bold mt-2 w-100" data-toggle="modal" data-target="#add-member-modal">ADD Member <i class="fa fa-plus" aria-hidden="true"></i>
                                            </button>
                                        </div> 
                                    </div>
                                    <!--*****************************************************************************-->
                                </div>
                            </div>
                            <!-- Outer Card Footer-->
                            <div class="card-footer d-flex flex-row justify-content-between bg-white" style="height: 6%">
                                <div class="btn-group dropup">
                                    <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Activity
                                    </button> 
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <div class="card-body" style="height:30rem; overflow: auto;">
                                            <ul id="activity-list" class="list-group text-dark">
                                            </ul>
                                        </div>
                                    </div>
                                </div>  
                                <h4 class="text-secondary">Codo makes your teamwork nicer <i class="fa fa-cog fa-spin fa-1x fa-fw text-primary"></i></h4>            
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Add toto modal-->
        <div class="modal fade black-text" id="add-todo-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="add-todo-form">
                            <div class="form-group">
                                <input type="text" name="add-todo-input" class="form-control" placeholder="Todo">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-primary">Add</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit todo modal -->
        <div class="modal fade black-text" id="edit-todo-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="edit-todo-form">
                            <div class="form-group">
                                <input type="text" name="edit-todo-input" class="form-control" placeholder="Change to...">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-primary">Edit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add member -->
        <div class="modal fade black-text" id="add-member-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="add-member-form">
                            <div class="form-group">
                                <input id="add-member-check-input" type="text" name="add-member-input" class="form-control" placeholder="Input Member's ID">
                            </div>
                            <div id="add-member-check-container">

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-primary">Add</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- Create room modal-->
        <div class="modal fade black-text" id="create-room-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="create-room-form">
                            <div class="form-group">
                                <input type="text" name="create-room-input" class="form-control" placeholder="Enter the room name">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-primary">Create</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- 加入房间弹出窗口 -->
        <div class="modal fade black-text" id="join-room-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="join-room-form">
                            <div class="form-group">
                                <input type="text" name="join-room-input" class="form-control" placeholder="Enter the room id">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-primary">Join</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- Delete room modal -->
        <div class="modal fade black-text" id="delete-room-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="delete-room-form">
                            <div class="form-group">
                                <input type="text" name="delete-room-name-input" class="form-control" placeholder="Enter the Room name">
                            </div>
                            <div class="form-group">
                                <input type="text" name="delete-room-id-input" class="form-control" placeholder="Enter the Room number">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-danger">Delete</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- room template -->
        <script id="room-template" type="template">
<a class="list-group-item list-group-item-action d-flex flex-row justify-content-between align-items-center text-dark">{{room_name}}<span class="badge badge-warning badge-pill text-dark">ID:{{room_id}}</span></a>
        </script>
        <!-- todo template -->
        <script id="todo-template" type="template">
<li id="{{todo_id}}" class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-items-center">
    <p class="w-50" style="text-align:left;">{{todo}}</p>
    <span class="badge badge-primary">{{real_name}}</span>
    <span class="badge badge-secondary">{{create_time}}</span>
    <div class="btn-group" role="group" aria-label="Basic example">
    <button type="delete-todo-btn" class="btn btn-danger btn-sm {{visibility}}" onclick="btnHijacker(event)">DELETE <i class="fa fa-trash" aria-hidden="true"></i></button>
    <button type="pick-todo-btn" class="btn btn-dark btn-sm" onclick="btnHijacker(event)">PICK <i class="fa fa-paper-plane" aria-hidden="true"></i></button>
    </div>
    </li>
        </script>
        <!-- ongoing template -->
        <script id="ongoing-template" type="template">
<li id="{{todo_id}}" class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-items-center">
    <p class="w-50" style="text-align:left;">{{todo}}</p>
    <span class="badge badge-primary">{{real_name}}</span>
    <span class="badge badge-secondary">{{create_time}}</span>
    <div class="btn-group" role="group" aria-label="Basic example">
    <button type="done-todo-btn" class="btn btn-success btn-sm {{visibility}}" onclick="btnHijacker(event)">Done<i class="fa fa-check" aria-hidden="true"></i></button>
    </div>
    </li>
        </script>
        <!-- done template -->
        <script id="done-template" type="template">
<li id="{{todo_id}}" class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-items-center">
    <p class="w-50" style="text-align:left;">{{todo}}</p>
    <span class="badge badge-primary">{{real_name}}</span>
    <span class="badge badge-secondary">{{create_time}}</span>
    </li>
        </script>

        <!-- members template -->
        <script id="member-template" type="template">
<li class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-items-center w-100">
    <p class="w-50" style="text-align:left;">{{real_name}}</p>
    <h5 class="w-20"><span class="badge badge-primary">Todos:{{todo}}</span></h5>
    <h5 class="w-20"><span class="badge badge-success">Ongoging:{{ongoing}}</span></h5>
    <h5 class="w-20"><span class="badge badge-warning">Done:{{done}}</span></h5>
    </li>
        </script>

        <!-- add member check template -->
        <script id="add-member-check-template" type="template">
<li class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-items-center">
    <p class="w-40" style="text-align:left;">{{real_name}}</p>
    <span class="badge badge-primary w-20">Todos:{{todo}}</span>
    <span class="badge badge-success w-20">Ongoging:{{ongoing}}</span>
    <span class="badge badge-warning w-20">Done:{{done}}</span>
    </li>
        </script>

        <!-- activity template-->
        <script id="activity-template" type="template">
<li class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-items-center">
    <p class="w-30" style="text-align:left;">{{who}}</p>
    <span class="badge badge-primary w-40">{{when}}</span>
    <span class="badge badge-warning w-30">{{what}}</span>
    </li>
        </script>

        <!-- bird template -->
        <script id="bird-template" type="template">
<div id="bird" class="d-flex flex-row justify-content-center align-items-center h-100 bg-dark">
    <div class="globe">
    <div class="bird">
    <div class="body">
    <div class="eye left"></div>
    <div class="eye right"></div>
    <div class="beak">
    <div></div>
    </div>
    <div class="feet"></div>
    <div class="wire"></div>
    </div>
    <div class="hills"></div>
    <div class="cloud"></div>
    <div class="cloud small"></div>
    </div>
    </div>
    </div>
        </script>
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
        <script src="/controllers/controller.js"></script>
        <script src="/controllers/notify.js"></script>
    </body>
</html>
